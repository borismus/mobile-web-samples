<!doctype html>
<!-- Comparison of rendering in handlers vs. rendering in rAF -->
<style>
html, body {
  width: 100%;
  height: 100%;
  background: black;
  color: white;
}
</style>

<div id="touch-freq"></div>

<script>
var timeMoveStart = null;
var timeMoveEnd = null;
var touchMoveCount = 0;
var isTouching = false;
// Track frequency of touchmove handler firing.

document.body.addEventListener('touchstart', function() {
  if (!isTouching) {
    timeMoveStart = performance.now();
    touchMoveCount = 0;
  }
  isTouching = true;
});
document.body.addEventListener('touchend', function(e) {
  if (e.touches.length == 0) {
    var delta = performance.now() - timeMoveStart;
    var frequency = touchMoveCount / delta;
    document.querySelector('#touch-freq').innerHTML = frequency + ' Hz';

    isTouching = false;
  }
});
document.body.addEventListener('touchmove', function() {
  if (isTouching) {
    touchMoveCount += 1;
  }
});
</script>
