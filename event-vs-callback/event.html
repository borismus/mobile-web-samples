<div id="el"></div>
<script>
  var el = document.querySelector('#el');
  function callback(e) {
    // Handle the event.
    var end = performance.webkitNow();
    alert(end - start);
  }

  var start = performance.webkitNow();
  // Register an event.
  addEventListener('customEvent', callback);
  // Synthesize a custom event.
  var event = document.createEvent('Event');
  event.initEvent('customEvent', true, true);
  el.dispatchEvent(event);
</script>
